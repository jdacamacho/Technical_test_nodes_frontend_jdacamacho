<button type="button" class="btn btn-warning" (click)="showModal()">
    <span nz-icon nzType="edit" nzTheme="outline"></span> 
  </button>

<nz-modal [(nzVisible)]="isVisible" nzTitle="Please, update the node information" (nzOnCancel)="handleCancel()" [nzFooter]="null">
    <ng-container *nzModalContent>

        <form #nodeForm="ngForm">
            <div class="form-group row">
                <label for="name" class="col-form-label col-12"> Name: </label>
                
                <div class="col-12">
                    <input type="text" class="form-control" [(ngModel)]="newNode.name"  name="name" required minlength="3" maxlength="50" #name="ngModel"
                    [ngClass]="{'is-invalid': name.invalid && (name.dirty || name.touched)}">
                    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="invalid-feedback">
                        <div *ngIf="name.errors?.['required']">Name is required.</div>
                        <div *ngIf="name.errors?.['minlength']">Name must be at least 3 characters long.</div>
                        <div *ngIf="name.errors?.['maxlength']">Name cannot be more than 50 characters long.</div>
                      </div>
                </div>
                
                <label for="valueX" class="col-form-label col-12"> Coordinate X: </label>

                <div class="col-12">
                    <input type="number" class="form-control" [(ngModel)]="newNode.coordinate.valueX" name="valueX" required #valueX="ngModel"
                        [ngClass]="{'is-invalid': valueX.invalid && (valueX.dirty || valueX.touched)}">
                    <div *ngIf="valueX.invalid && (valueX.dirty || valueX.touched)" class="invalid-feedback">
                        <div *ngIf="valueX.errors?.['required']">Coordinate X is required.</div>
                    </div>
                </div>

                <label for="valueY" class="col-form-label col-12"> Coordinate Y: </label>

                <div class="col-12">
                    <input type="number" class="form-control" [(ngModel)]="newNode.coordinate.valueY" name="valueY" required #valueY="ngModel"
                        [ngClass]="{'is-invalid': valueY.invalid && (valueY.dirty || valueY.touched)}">
                    <div *ngIf="valueY.invalid && (valueY.dirty || valueY.touched)" class="invalid-feedback">
                        <div *ngIf="valueY.errors?.['required']">Coordinate Y is required.</div>
                    </div>
                </div>

                <label for="description" class="col-form-label col-12"> Description: </label>
    
                <div class="form-group col-12">
                    <textarea class="form-control" id="description" rows="3" [(ngModel)]="newNode.description" name="description" required #description="ngModel" minlength="10" maxlength="400"
                        [ngClass]="{'is-invalid': description.invalid && (description.dirty || description.touched)}"></textarea>
                    <div *ngIf="description.invalid && (description.dirty || description.touched)" class="invalid-feedback">
                        <div *ngIf="description.errors?.['required']">Description is required.</div>
                        <div *ngIf="description.errors?.['minlength']">Description must be at least 10 characters long.</div>
                        <div *ngIf="description.errors?.['maxlength']">Description cannot be more than 400 characters long.</div>
                    </div>

                </div>

            </div>
            <hr>
            <div class="form-group">
                <div class="col-12 d-flex justify-content-center">
                    <button class="btn btn-primary w-100" role="button" (click)='updateNode()'
                    [disabled]="!nodeForm.form.valid"> 
                        update node
                    </button>
                </div>
            </div>
        </form>

    </ng-container>
</nz-modal>
